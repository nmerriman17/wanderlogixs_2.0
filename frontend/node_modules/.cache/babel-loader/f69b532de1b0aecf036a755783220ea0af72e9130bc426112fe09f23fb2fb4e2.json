{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import'./loginsignup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const response=await axios.post(endpoint,credentials,{headers:{'Content-Type':'application/json'}});const Loginsignup=()=>{const[action,setAction]=useState('Sign Up');const[credentials,setCredentials]=useState({email:'',password:'',name:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const validateForm=()=>{if(action==='Sign Up'&&!credentials.name){setError('Please enter your name.');return false;}if(!credentials.email){setError('Please enter your email.');return false;}if(!credentials.password){setError('Please enter your password.');return false;}return true;};const handleSubmit=async()=>{if(!validateForm())return;const endpoint=action==='Sign Up'?'/api/signup':'/api/login';try{const response=await axios.post(endpoint,credentials);localStorage.setItem('token',response.data.token);navigate('/dashboard');}catch(error){if(error.response&&error.response.data){setError(error.response.data);}else{setError('Failed to log in or sign up');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-signup-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:action}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[action==='Sign Up'&&/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",className:\"form-control\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",className:\"form-control\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",className:\"form-control\",onChange:handleChange})}),action==='Login'&&/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",children:\"Forgot Password?\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"submit-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary submit\",onClick:()=>setAction('Sign Up'),children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary submit\",onClick:()=>setAction('Login'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary submit\",onClick:handleSubmit,children:\"Submit\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]});};export default Loginsignup;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","response","post","endpoint","credentials","headers","Loginsignup","action","setAction","setCredentials","email","password","name","error","setError","navigate","handleChange","e","target","value","validateForm","handleSubmit","localStorage","setItem","data","token","className","children","type","placeholder","onChange","to","onClick"],"sources":["/Users/nicolemerriman/Desktop/Capstone/Final Project/WanderLogixs_App/WanderLogixs_App/frontend/src/components/loginsignup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './loginsignup.css';\n\nconst response = await axios.post(endpoint, credentials, {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\nconst Loginsignup = () => {\n    const [action, setAction] = useState('Sign Up');\n    const [credentials, setCredentials] = useState({ email: '', password: '', name: '' });\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\n    };\n\n    const validateForm = () => {\n        if (action === 'Sign Up' && !credentials.name) {\n            setError('Please enter your name.');\n            return false;\n        }\n        if (!credentials.email) {\n            setError('Please enter your email.');\n            return false;\n        }\n        if (!credentials.password) {\n            setError('Please enter your password.');\n            return false;\n        }\n        return true;\n    };\n\n    const handleSubmit = async () => {\n        if (!validateForm()) return;\n\n        const endpoint = action === 'Sign Up' ? '/api/signup' : '/api/login';\n        try {\n            const response = await axios.post(endpoint, credentials);\n            localStorage.setItem('token', response.data.token);\n            navigate('/dashboard');\n        } catch (error) {\n            if (error.response && error.response.data) {\n                setError(error.response.data); \n            } else {\n                setError('Failed to log in or sign up');\n            }\n        }\n    };\n\n    return (\n        <div className='login-signup-container'>\n            <div className=\"header\">\n                <div className=\"text\">{action}</div>\n                <div className=\"underline\"></div>\n            </div>\n            <div className=\"inputs\">\n                {action === 'Sign Up' && (\n                    <div className=\"input\">\n                        <input type=\"text\" name=\"name\" placeholder=\"Name\" className=\"form-control\" onChange={handleChange} />\n                    </div>\n                )}\n                <div className=\"input\">\n                    <input type=\"email\" name=\"email\" placeholder=\"Email Address\" className=\"form-control\" onChange={handleChange} />\n                </div>\n                <div className=\"input\">\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-control\" onChange={handleChange} />\n                </div>\n                {action === 'Login' && (\n                    <div className=\"forgot-password\">\n                        <Link to=\"/forgot-password\">Forgot Password?</Link>\n                    </div>\n                )}\n            </div>\n            <div className=\"submit-container\">\n                <button className=\"btn btn-primary submit\" onClick={() => setAction('Sign Up')}>Sign Up</button>\n                <button className=\"btn btn-primary submit\" onClick={() => setAction('Login')}>Login</button>\n                <button className=\"btn btn-secondary submit\" onClick={handleSubmit}>Submit</button>\n            </div>\n            {error && <div className=\"error-message\">{error}</div>}\n        </div>\n    );\n};\n\nexport default Loginsignup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}