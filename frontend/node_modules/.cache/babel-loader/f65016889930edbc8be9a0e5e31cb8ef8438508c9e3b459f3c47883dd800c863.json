{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import'./loginsignup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Loginsignup=()=>{const[action,setAction]=useState('Sign Up');const[credentials,setCredentials]=useState({email:'',password:'',name:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const validateForm=()=>{if(action==='Sign Up'&&!credentials.name){setError('Please enter your name.');return false;}if(!credentials.email){setError('Please enter your email.');return false;}if(!credentials.password){setError('Please enter your password.');return false;}return true;};const handleSubmit=async()=>{if(!validateForm())return;const endpoint=action==='Sign Up'?'/api/signup':'/api/login';try{const response=await axios.post(endpoint,credentials);localStorage.setItem('token',response.data.token);navigate('/dashboard');}catch(error){setError('Failed to log in or sign up');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-signup-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:action}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[action==='Sign Up'&&/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",className:\"form-control\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",className:\"form-control\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",className:\"form-control\",onChange:handleChange})}),action==='Login'&&/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",children:\"Forgot Password?\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"submit-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary submit\",onClick:()=>setAction('Sign Up'),children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary submit\",onClick:()=>setAction('Login'),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary submit\",onClick:handleSubmit,children:\"Submit\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]});};export default Loginsignup;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Loginsignup","action","setAction","credentials","setCredentials","email","password","name","error","setError","navigate","handleChange","e","target","value","validateForm","handleSubmit","endpoint","response","post","localStorage","setItem","data","token","className","children","type","placeholder","onChange","to","onClick"],"sources":["/Users/nicolemerriman/Desktop/Capstone/Final Project/WanderLogixs_App/WanderLogixs-Backend/WanderLogixs-Frontend/src/components/loginsignup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport './loginsignup.css';\n\nconst Loginsignup = () => {\n    const [action, setAction] = useState('Sign Up');\n    const [credentials, setCredentials] = useState({ email: '', password: '', name: '' });\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\n    };\n\n    const validateForm = () => {\n        if (action === 'Sign Up' && !credentials.name) {\n            setError('Please enter your name.');\n            return false;\n        }\n        if (!credentials.email) {\n            setError('Please enter your email.');\n            return false;\n        }\n        if (!credentials.password) {\n            setError('Please enter your password.');\n            return false;\n        }\n        return true;\n    };\n\n    const handleSubmit = async () => {\n        if (!validateForm()) return;\n\n        const endpoint = action === 'Sign Up' ? '/api/signup' : '/api/login';\n        try {\n            const response = await axios.post(endpoint, credentials);\n            localStorage.setItem('token', response.data.token);\n            navigate('/dashboard');\n        } catch (error) {\n            setError('Failed to log in or sign up');\n        }\n    };\n\n    return (\n        <div className='login-signup-container'>\n            <div className=\"header\">\n                <div className=\"text\">{action}</div>\n                <div className=\"underline\"></div>\n            </div>\n            <div className=\"inputs\">\n                {action === 'Sign Up' && (\n                    <div className=\"input\">\n                        <input type=\"text\" name=\"name\" placeholder=\"Name\" className=\"form-control\" onChange={handleChange} />\n                    </div>\n                )}\n                <div className=\"input\">\n                    <input type=\"email\" name=\"email\" placeholder=\"Email Address\" className=\"form-control\" onChange={handleChange} />\n                </div>\n                <div className=\"input\">\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-control\" onChange={handleChange} />\n                </div>\n                {action === 'Login' && (\n                    <div className=\"forgot-password\">\n                        <Link to=\"/forgot-password\">Forgot Password?</Link>\n                    </div>\n                )}\n            </div>\n            <div className=\"submit-container\">\n                <button className=\"btn btn-primary submit\" onClick={() => setAction('Sign Up')}>Sign Up</button>\n                <button className=\"btn btn-primary submit\" onClick={() => setAction('Login')}>Login</button>\n                <button className=\"btn btn-secondary submit\" onClick={handleSubmit}>Submit</button>\n            </div>\n            {error && <div className=\"error-message\">{error}</div>}\n        </div>\n    );\n};\n\nexport default Loginsignup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}