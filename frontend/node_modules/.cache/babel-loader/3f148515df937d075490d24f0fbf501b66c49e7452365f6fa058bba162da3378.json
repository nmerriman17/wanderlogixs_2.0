{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./loginsignup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Loginsignup=()=>{const[isSignup,setIsSignup]=useState(true);const[credentials,setCredentials]=useState({name:'',email:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();const endpoint=isSignup?'/api/signup':'/api/login';try{const response=await axios.post(endpoint,credentials,{headers:{'Content-Type':'application/json'}});// Storing the token in session storage\nif(response.data.token){sessionStorage.setItem('token',response.data.token);navigate('/itinerary');}else{throw new Error('Token not received');}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Something went wrong!');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-signup-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:isSignup?'Sign Up':'Login'}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"inputs\",children:[isSignup&&/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:credentials.name,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",value:credentials.email,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:credentials.password,onChange:handleChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary submit\",type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-switch\",type:\"button\",onClick:()=>setIsSignup(!isSignup),children:[\"Switch to \",isSignup?'Login':'Sign Up']})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]})]});};export default Loginsignup;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Loginsignup","isSignup","setIsSignup","credentials","setCredentials","name","email","password","error","setError","navigate","handleChange","e","target","value","handleSubmit","preventDefault","endpoint","response","post","headers","data","token","sessionStorage","setItem","Error","err","_err$response","_err$response$data","message","className","children","onSubmit","type","placeholder","onChange","onClick"],"sources":["/Users/nicolemerriman/Desktop/Capstone/Final Project/WanderLogixs_App/WanderLogixs_App/frontend/src/components/loginsignup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './loginsignup.css';\n\nconst Loginsignup = () => {\n    const [isSignup, setIsSignup] = useState(true);\n    const [credentials, setCredentials] = useState({ name: '', email: '', password: '' });\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const endpoint = isSignup ? '/api/signup' : '/api/login';\n        try {\n            const response = await axios.post(endpoint, credentials, {\n                headers: { 'Content-Type': 'application/json' }\n            });\n    \n            // Storing the token in session storage\n            if (response.data.token) {\n                sessionStorage.setItem('token', response.data.token);\n                navigate('/itinerary');\n            } else {\n                throw new Error('Token not received');\n            }\n        } catch (err) {\n            setError(err.response?.data?.message || 'Something went wrong!');\n        }\n    };\n\n    return (\n        <div className='login-signup-container'>\n            <div className=\"header\">\n                <div className=\"text\">{isSignup ? 'Sign Up' : 'Login'}</div>\n                <div className=\"underline\"></div>\n            </div>\n            <form onSubmit={handleSubmit} className=\"inputs\">\n                {isSignup && (\n                    <div className=\"input\">\n                        <input type=\"text\" name=\"name\" placeholder=\"Name\" value={credentials.name} onChange={handleChange} />\n                    </div>\n                )}\n                <div className=\"input\">\n                    <input type=\"email\" name=\"email\" placeholder=\"Email Address\" value={credentials.email} onChange={handleChange} />\n                </div>\n                <div className=\"input\">\n                    <input type=\"password\" name=\"password\" placeholder=\"Password\" value={credentials.password} onChange={handleChange} />\n                </div>\n                <div className=\"button-container\">\n                    <button className=\"btn btn-primary submit\" type=\"submit\">Submit</button>\n                    <button className=\"btn btn-switch\" type=\"button\" onClick={() => setIsSignup(!isSignup)}>\n                        Switch to {isSignup ? 'Login' : 'Sign Up'}\n                    </button>\n                </div>\n                {error && <div className=\"error-message\">{error}</div>}\n            </form>\n        </div>\n    );\n};\n\nexport default Loginsignup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}