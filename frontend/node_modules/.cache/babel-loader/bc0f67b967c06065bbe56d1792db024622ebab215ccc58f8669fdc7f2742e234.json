{"ast":null,"code":"import React,{useState,useEffect}from'react';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Itinerary(){const[events,setEvents]=useState([]);const[eventForm,setEventForm]=useState({eventName:'',location:'',startDate:'',endDate:'',startTime:'12:00',endTime:'12:00',description:'',notification:''});// Define fetchEvents function outside of useEffect\nconst fetchEvents=async()=>{try{const response=await axios.get('/api/itinerary');setEvents(response.data);}catch(error){console.error('Error fetching events:',error);}};// Use useEffect to call fetchEvents on component mount\nuseEffect(()=>{fetchEvents();},[]);const handleInputChange=e=>{const{name,value}=e.target;setEventForm({...eventForm,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{await axios.post('/api/itinerary',eventForm);fetchEvents();// Re-fetch events after submitting\nsetEventForm({// Reset form\neventName:'',location:'',startDate:'',endDate:'',startTime:'12:00',endTime:'12:00',description:'',notification:''});}catch(error){console.error('Error submitting form:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"itinerary-form-container\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit})}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar-container\",children:/*#__PURE__*/_jsx(Calendar,{value:new Date(),tileContent:_ref=>{let{date,view}=_ref;return view==='month'&&events.map(event=>{const eventStart=new Date(event.startDate);const eventEnd=new Date(event.endDate);if(date>=eventStart&&date<=eventEnd){return/*#__PURE__*/_jsx(\"div\",{children:event.eventName},event.event_id);}return null;});}})})]});}export default Itinerary;","map":{"version":3,"names":["React","useState","useEffect","Calendar","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Itinerary","events","setEvents","eventForm","setEventForm","eventName","location","startDate","endDate","startTime","endTime","description","notification","fetchEvents","response","get","data","error","console","handleInputChange","e","name","value","target","handleSubmit","preventDefault","post","children","className","onSubmit","Date","tileContent","_ref","date","view","map","event","eventStart","eventEnd","event_id"],"sources":["/Users/nicolemerriman/Desktop/Capstone/Final Project/wanderlogixs_2.0/frontend/src/components/itinerary.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport axios from 'axios';\n\nfunction Itinerary() {\n    const [events, setEvents] = useState([]);\n    const [eventForm, setEventForm] = useState({\n        eventName: '',\n        location: '',\n        startDate: '',\n        endDate: '',\n        startTime: '12:00',\n        endTime: '12:00',\n        description: '',\n        notification: ''\n    });\n\n    // Define fetchEvents function outside of useEffect\n    const fetchEvents = async () => {\n        try {\n            const response = await axios.get('/api/itinerary');\n            setEvents(response.data);\n        } catch (error) {\n            console.error('Error fetching events:', error);\n        }\n    };\n\n    // Use useEffect to call fetchEvents on component mount\n    useEffect(() => {\n        fetchEvents();\n    }, []);\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setEventForm({ ...eventForm, [name]: value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            await axios.post('/api/itinerary', eventForm);\n            fetchEvents(); // Re-fetch events after submitting\n            setEventForm({ // Reset form\n                eventName: '',\n                location: '',\n                startDate: '',\n                endDate: '',\n                startTime: '12:00',\n                endTime: '12:00',\n                description: '',\n                notification: ''\n            });\n        } catch (error) {\n            console.error('Error submitting form:', error);\n        }\n    };\n\n\n    return (\n        <>\n            <div className=\"itinerary-form-container\">\n                <form onSubmit={handleSubmit}>\n                    {/* Form Inputs */}\n                    {/* Replace with corresponding form fields */}\n                </form>\n            </div>\n\n            <div className=\"calendar-container\">\n                <Calendar\n                    value={new Date()}\n                    tileContent={({ date, view }) => {\n                        return view === 'month' && events.map(event => {\n                            const eventStart = new Date(event.startDate);\n                            const eventEnd = new Date(event.endDate);\n                            if (date >= eventStart && date <= eventEnd) {\n                                return <div key={event.event_id}>{event.eventName}</div>;\n                            }\n                            return null;\n                        });\n                    }}\n                />\n            </div>\n        </>\n    );\n}\n\nexport default Itinerary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}