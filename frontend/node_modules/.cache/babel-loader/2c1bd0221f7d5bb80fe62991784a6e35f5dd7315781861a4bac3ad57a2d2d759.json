{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./loginsignup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Loginsignup=()=>{const[isSignup,setIsSignup]=useState(true);const[credentials,setCredentials]=useState({name:'',email:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();const endpoint=isSignup?'/api/signup':'/api/login';try{const response=await axios.post(endpoint,credentials,{headers:{'Content-Type':'application/json'}});localStorage.setItem('token',response.data.token);navigate('/dashboard');// Adjust the navigation route as needed\n}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Something went wrong!');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-signup-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isSignup?'Sign Up':'Login'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[isSignup&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:credentials.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:credentials.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:credentials.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isSignup?'Sign Up':'Login'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsSignup(!isSignup),children:[\"Switch to \",isSignup?'Login':'Sign Up']})]});};export default Loginsignup;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Loginsignup","isSignup","setIsSignup","credentials","setCredentials","name","email","password","error","setError","navigate","handleChange","e","target","value","handleSubmit","preventDefault","endpoint","response","post","headers","localStorage","setItem","data","token","err","_err$response","_err$response$data","message","className","children","onSubmit","type","placeholder","onChange","onClick"],"sources":["/Users/nicolemerriman/Desktop/Capstone/Final Project/WanderLogixs_App/WanderLogixs_App/frontend/src/components/loginsignup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './loginsignup.css';\n\nconst Loginsignup = () => {\n    const [isSignup, setIsSignup] = useState(true);\n    const [credentials, setCredentials] = useState({ name: '', email: '', password: '' });\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const endpoint = isSignup ? '/api/signup' : '/api/login';\n        try {\n            const response = await axios.post(endpoint, credentials, {\n                headers: { 'Content-Type': 'application/json' }\n            });\n            localStorage.setItem('token', response.data.token);\n            navigate('/dashboard'); // Adjust the navigation route as needed\n        } catch (err) {\n            setError(err.response?.data?.message || 'Something went wrong!');\n        }\n    };\n\n    return (\n        <div className='login-signup-container'>\n            <h2>{isSignup ? 'Sign Up' : 'Login'}</h2>\n            <form onSubmit={handleSubmit}>\n                {isSignup && (\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"Name\"\n                        value={credentials.name}\n                        onChange={handleChange}\n                    />\n                )}\n                <input\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    value={credentials.email}\n                    onChange={handleChange}\n                />\n                <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={credentials.password}\n                    onChange={handleChange}\n                />\n                <button type=\"submit\">{isSignup ? 'Sign Up' : 'Login'}</button>\n            </form>\n            {error && <p className=\"error\">{error}</p>}\n            <button onClick={() => setIsSignup(!isSignup)}>\n                Switch to {isSignup ? 'Login' : 'Sign Up'}\n            </button>\n        </div>\n    );\n};\n\nexport default Loginsignup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}