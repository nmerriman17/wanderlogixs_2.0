{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Formik,Form,Field}from'formik';import*as yup from'yup';import'./expenses.css';import'bootstrap/dist/css/bootstrap.min.css';import AppHeader from'../components/header.js';import Card from'react-bootstrap/Card';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL||'/api';const schema=yup.object().shape({date:yup.date().required('Date is required'),category:yup.string().required('Category is required'),amount:yup.number().required('Amount is required').positive().typeError('Amount must be a number'),description:yup.string()});const ExpenseCard=_ref=>{let{expense}=_ref;return/*#__PURE__*/_jsx(Card,{style:{width:'18rem'},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:expense.category}),/*#__PURE__*/_jsx(Card.Subtitle,{className:\"mb-2 text-muted\",children:expense.date}),/*#__PURE__*/_jsxs(Card.Text,{children:[expense.description,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Amount:\"}),\" $\",expense.amount]})]})});};const AppExpenses=()=>{const[expenses,setExpenses]=useState([]);const[formState,setFormState]=useState('submit');useEffect(()=>{axios.get(\"\".concat(apiUrl,\"/expenses\")).then(response=>setExpenses(response.data)).catch(error=>console.error('Error fetching expenses:',error));},[]);const handleSubmit=async(values,_ref2)=>{let{resetForm}=_ref2;const expenseData={...values};axios.post(\"\".concat(apiUrl,\"/expenses\"),expenseData).then(response=>{setExpenses([response.data,...expenses]);resetForm();}).catch(error=>console.error('Error submitting expense:',error));};const handleCancel=()=>{setFormState('cancel');document.getElementById('expense-form').reset();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"expense-form-container\"}),/*#__PURE__*/_jsx(\"div\",{className:\"expense-display\",children:expenses.map((expense,index)=>/*#__PURE__*/_jsx(ExpenseCard,{expense:expense},index))})]});};export default AppExpenses;","map":{"version":3,"names":["React","useState","useEffect","Formik","Form","Field","yup","AppHeader","Card","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","apiUrl","process","env","REACT_APP_API_URL","schema","object","shape","date","required","category","string","amount","number","positive","typeError","description","ExpenseCard","_ref","expense","style","width","children","Body","Title","Subtitle","className","Text","AppExpenses","expenses","setExpenses","formState","setFormState","get","concat","then","response","data","catch","error","console","handleSubmit","values","_ref2","resetForm","expenseData","post","handleCancel","document","getElementById","reset","map","index"],"sources":["/Users/nicolemerriman/Desktop/Capstone/Final Project/wanderlogixs_2.0/frontend/src/components/expenses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as yup from 'yup';\nimport './expenses.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport AppHeader from '../components/header.js'; \nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\n\nconst apiUrl = process.env.REACT_APP_API_URL || '/api';\n\nconst schema = yup.object().shape({\n  date: yup.date().required('Date is required'),\n  category: yup.string().required('Category is required'),\n  amount: yup\n    .number()\n    .required('Amount is required')\n    .positive()\n    .typeError('Amount must be a number'),\n  description: yup.string(),\n});\n\nconst ExpenseCard = ({ expense }) => {\n  return (\n    <Card style={{ width: '18rem' }}>\n      <Card.Body>\n        <Card.Title>{expense.category}</Card.Title>\n        <Card.Subtitle className=\"mb-2 text-muted\">{expense.date}</Card.Subtitle>\n        <Card.Text>\n          {expense.description}\n          <br />\n          <b>Amount:</b> ${expense.amount}\n        </Card.Text>\n      </Card.Body>\n    </Card>\n  );\n}\n\nconst AppExpenses = () => {\n  const [expenses, setExpenses] = useState([]);\n  const [formState, setFormState] = useState('submit'); \n\n  useEffect(() => {\n    axios.get(`${apiUrl}/expenses`)\n         .then(response => setExpenses(response.data))\n         .catch(error => console.error('Error fetching expenses:', error));\n  }, []);\n\n  const handleSubmit = async (values, { resetForm }) => {\n    const expenseData = { ...values };\n    axios.post(`${apiUrl}/expenses`, expenseData)\n         .then(response => {\n           setExpenses([response.data, ...expenses]);\n           resetForm();\n         })\n         .catch(error => console.error('Error submitting expense:', error));\n  };\n\n  const handleCancel = () => {\n    setFormState('cancel');\n    document.getElementById('expense-form').reset();\n  };\n\n  return (\n    <>\n      <AppHeader />\n      <div className=\"expense-form-container\">\n        {/* Expense form and other components here */}\n      </div>\n      <div className=\"expense-display\">\n        {expenses.map((expense, index) => (\n          <ExpenseCard key={index} expense={expense} />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default AppExpenses;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}